{% extends "base.html" %}

{% block content %}
<div class="container mt-2">
    <h1 class="mb-4"> Edit Project</h1>

    <form method="POST" action="{{ url_for('edit_project', class_name=class_name, project_name=project_name) }}" enctype="multipart/form-data">
        <div class="mb-3">
            <label for="project_name" class="form-label"><i class="bi bi-card-text"></i> Project Name</label>
            <input type="text" id="project_name" name="project_name" class="form-control" value="{{ project_name }}" required>
        </div>

        <div class="mb-3">
            <label for="description" class="form-label"><i class="bi bi-pencil-square"></i> Project Description</label>
            <textarea id="description" name="description" class="form-control" rows="4" required>{{ project_description }}</textarea>
        </div>

        <div class="mb-3">
            <label for="due_date" class="form-label"><i class="bi bi-calendar-event"></i> Due Date</label>
            <input 
                type="datetime-local" 
                id="due_date" 
                name="due_date" 
                class="form-control" 
                value="{{ due_date | default(current_date_time) }}" 
                required 
                min="{{ current_date_time }}" 
                max="9999-12-31T23:59"
            >
        </div>

        <div class="mb-3">
            <label for="team_file" class="form-label"><i class="bi bi-file-earmark-spreadsheet"></i> Upload Team File (CSV/Excel)</label>
            <input type="file" id="team_file" name="team_file" class="form-control">
        </div>

        <div class="d-flex justify-content-start gap-2">
            <button type="submit" class="btn btn-dark">
                <i class="bi bi-save"></i> Save Changes
            </button>
            <a href="{{ url_for('project_view', class_name=class_name, project_name=project_name) }}" class="btn btn-dark">
                <i class="bi bi-arrow-left me-2"></i> Back to Project
            </a>
        </div>
    </form>
</div>
{% endblock %}
